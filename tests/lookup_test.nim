include ../lookup
import base
import m42
import bitops

let lTable = newLookupTable()

proc testNorthRay(debug: bool)=
  assertBitboard(lTable.getNorthRay(A1), 0x0101010101010100u64, "wrong value for north ray at A1", debug)
  assertBitboard(lTable.getNorthRay(B1), 0x0202020202020200u64, "wrong value for north ray at B1", debug)
  assertBitboard(lTable.getNorthRay(C1), 0x0404040404040400u64, "wrong value for north ray at C1", debug)
  assertBitboard(lTable.getNorthRay(D1), 0x0808080808080800u64, "wrong value for north ray at D1", debug)
  assertBitboard(lTable.getNorthRay(E1), 0x1010101010101000u64, "wrong value for north ray at E1", debug)
  assertBitboard(lTable.getNorthRay(F1), 0x2020202020202000u64, "wrong value for north ray at F1", debug)
  assertBitboard(lTable.getNorthRay(G1), 0x4040404040404000u64, "wrong value for north ray at G1", debug)
  assertBitboard(lTable.getNorthRay(H1), 0x8080808080808000u64, "wrong value for north ray at H1", debug)
  assertBitboard(lTable.getNorthRay(A2), 0x0101010101010000u64, "wrong value for north ray at A2", debug)
  assertBitboard(lTable.getNorthRay(B2), 0x0202020202020000u64, "wrong value for north ray at B2", debug)
  assertBitboard(lTable.getNorthRay(C2), 0x0404040404040000u64, "wrong value for north ray at C2", debug)
  assertBitboard(lTable.getNorthRay(D2), 0x0808080808080000u64, "wrong value for north ray at D2", debug)
  assertBitboard(lTable.getNorthRay(E2), 0x1010101010100000u64, "wrong value for north ray at E2", debug)
  assertBitboard(lTable.getNorthRay(F2), 0x2020202020200000u64, "wrong value for north ray at F2", debug)
  assertBitboard(lTable.getNorthRay(G2), 0x4040404040400000u64, "wrong value for north ray at G2", debug)
  assertBitboard(lTable.getNorthRay(H2), 0x8080808080800000u64, "wrong value for north ray at H2", debug)
  assertBitboard(lTable.getNorthRay(A3), 0x0101010101000000u64, "wrong value for north ray at A3", debug)
  assertBitboard(lTable.getNorthRay(B3), 0x0202020202000000u64, "wrong value for north ray at B3", debug)
  assertBitboard(lTable.getNorthRay(C3), 0x0404040404000000u64, "wrong value for north ray at C3", debug)
  assertBitboard(lTable.getNorthRay(D3), 0x0808080808000000u64, "wrong value for north ray at D3", debug)
  assertBitboard(lTable.getNorthRay(E3), 0x1010101010000000u64, "wrong value for north ray at E3", debug)
  assertBitboard(lTable.getNorthRay(F3), 0x2020202020000000u64, "wrong value for north ray at F3", debug)
  assertBitboard(lTable.getNorthRay(G3), 0x4040404040000000u64, "wrong value for north ray at G3", debug)
  assertBitboard(lTable.getNorthRay(H3), 0x8080808080000000u64, "wrong value for north ray at H3", debug)
  assertBitboard(lTable.getNorthRay(A4), 0x0101010100000000u64, "wrong value for north ray at A4", debug)
  assertBitboard(lTable.getNorthRay(B4), 0x0202020200000000u64, "wrong value for north ray at B4", debug)
  assertBitboard(lTable.getNorthRay(C4), 0x0404040400000000u64, "wrong value for north ray at C4", debug)
  assertBitboard(lTable.getNorthRay(D4), 0x0808080800000000u64, "wrong value for north ray at D4", debug)
  assertBitboard(lTable.getNorthRay(E4), 0x1010101000000000u64, "wrong value for north ray at E4", debug)
  assertBitboard(lTable.getNorthRay(F4), 0x2020202000000000u64, "wrong value for north ray at F4", debug)
  assertBitboard(lTable.getNorthRay(G4), 0x4040404000000000u64, "wrong value for north ray at G4", debug)
  assertBitboard(lTable.getNorthRay(H4), 0x8080808000000000u64, "wrong value for north ray at H4", debug)
  assertBitboard(lTable.getNorthRay(A5), 0x0101010000000000u64, "wrong value for north ray at A5", debug)
  assertBitboard(lTable.getNorthRay(B5), 0x0202020000000000u64, "wrong value for north ray at B5", debug)
  assertBitboard(lTable.getNorthRay(C5), 0x0404040000000000u64, "wrong value for north ray at C5", debug)
  assertBitboard(lTable.getNorthRay(D5), 0x0808080000000000u64, "wrong value for north ray at D5", debug)
  assertBitboard(lTable.getNorthRay(E5), 0x1010100000000000u64, "wrong value for north ray at E5", debug)
  assertBitboard(lTable.getNorthRay(F5), 0x2020200000000000u64, "wrong value for north ray at F5", debug)
  assertBitboard(lTable.getNorthRay(G5), 0x4040400000000000u64, "wrong value for north ray at G5", debug)
  assertBitboard(lTable.getNorthRay(H5), 0x8080800000000000u64, "wrong value for north ray at H5", debug)
  assertBitboard(lTable.getNorthRay(A6), 0x0101000000000000u64, "wrong value for north ray at A6", debug)
  assertBitboard(lTable.getNorthRay(B6), 0x0202000000000000u64, "wrong value for north ray at B6", debug)
  assertBitboard(lTable.getNorthRay(C6), 0x0404000000000000u64, "wrong value for north ray at C6", debug)
  assertBitboard(lTable.getNorthRay(D6), 0x0808000000000000u64, "wrong value for north ray at D6", debug)
  assertBitboard(lTable.getNorthRay(E6), 0x1010000000000000u64, "wrong value for north ray at E6", debug)
  assertBitboard(lTable.getNorthRay(F6), 0x2020000000000000u64, "wrong value for north ray at F6", debug)
  assertBitboard(lTable.getNorthRay(G6), 0x4040000000000000u64, "wrong value for north ray at G6", debug)
  assertBitboard(lTable.getNorthRay(H6), 0x8080000000000000u64, "wrong value for north ray at H6", debug)
  assertBitboard(lTable.getNorthRay(A7), 0x0100000000000000u64, "wrong value for north ray at A7", debug)
  assertBitboard(lTable.getNorthRay(B7), 0x0200000000000000u64, "wrong value for north ray at B7", debug)
  assertBitboard(lTable.getNorthRay(C7), 0x0400000000000000u64, "wrong value for north ray at C7", debug)
  assertBitboard(lTable.getNorthRay(D7), 0x0800000000000000u64, "wrong value for north ray at D7", debug)
  assertBitboard(lTable.getNorthRay(E7), 0x1000000000000000u64, "wrong value for north ray at E7", debug)
  assertBitboard(lTable.getNorthRay(F7), 0x2000000000000000u64, "wrong value for north ray at F7", debug)
  assertBitboard(lTable.getNorthRay(G7), 0x4000000000000000u64, "wrong value for north ray at G7", debug)
  assertBitboard(lTable.getNorthRay(H7), 0x8000000000000000u64, "wrong value for north ray at H7", debug)
  assertBitboard(lTable.getNorthRay(A8), 0x0000000000000000u64, "wrong value for north ray at A8", debug)
  assertBitboard(lTable.getNorthRay(B8), 0x0000000000000000u64, "wrong value for north ray at B8", debug)
  assertBitboard(lTable.getNorthRay(C8), 0x0000000000000000u64, "wrong value for north ray at C8", debug)
  assertBitboard(lTable.getNorthRay(D8), 0x0000000000000000u64, "wrong value for north ray at D8", debug)
  assertBitboard(lTable.getNorthRay(E8), 0x0000000000000000u64, "wrong value for north ray at E8", debug)
  assertBitboard(lTable.getNorthRay(F8), 0x0000000000000000u64, "wrong value for north ray at F8", debug)
  assertBitboard(lTable.getNorthRay(G8), 0x0000000000000000u64, "wrong value for north ray at G8", debug)
  assertBitboard(lTable.getNorthRay(H8), 0x0000000000000000u64, "wrong value for north ray at H8", debug)

proc testSouthRay(debug: bool)=
  assertBitboard(lTable.getSouthRay(A1), 0x0000000000000000u64, "wrong value for south ray at A1", debug)
  assertBitboard(lTable.getSouthRay(B1), 0x0000000000000000u64, "wrong value for south ray at B1", debug)
  assertBitboard(lTable.getSouthRay(C1), 0x0000000000000000u64, "wrong value for south ray at C1", debug)
  assertBitboard(lTable.getSouthRay(D1), 0x0000000000000000u64, "wrong value for south ray at D1", debug)
  assertBitboard(lTable.getSouthRay(E1), 0x0000000000000000u64, "wrong value for south ray at E1", debug)
  assertBitboard(lTable.getSouthRay(F1), 0x0000000000000000u64, "wrong value for south ray at F1", debug)
  assertBitboard(lTable.getSouthRay(G1), 0x0000000000000000u64, "wrong value for south ray at G1", debug)
  assertBitboard(lTable.getSouthRay(H1), 0x0000000000000000u64, "wrong value for south ray at H1", debug)
  assertBitboard(lTable.getSouthRay(A2), 0x0000000000000001u64, "wrong value for south ray at A2", debug)
  assertBitboard(lTable.getSouthRay(B2), 0x0000000000000002u64, "wrong value for south ray at B2", debug)
  assertBitboard(lTable.getSouthRay(C2), 0x0000000000000004u64, "wrong value for south ray at C2", debug)
  assertBitboard(lTable.getSouthRay(D2), 0x0000000000000008u64, "wrong value for south ray at D2", debug)
  assertBitboard(lTable.getSouthRay(E2), 0x0000000000000010u64, "wrong value for south ray at E2", debug)
  assertBitboard(lTable.getSouthRay(F2), 0x0000000000000020u64, "wrong value for south ray at F2", debug)
  assertBitboard(lTable.getSouthRay(G2), 0x0000000000000040u64, "wrong value for south ray at G2", debug)
  assertBitboard(lTable.getSouthRay(H2), 0x0000000000000080u64, "wrong value for south ray at H2", debug)
  assertBitboard(lTable.getSouthRay(A3), 0x0000000000000101u64, "wrong value for south ray at A2", debug)
  assertBitboard(lTable.getSouthRay(B3), 0x0000000000000202u64, "wrong value for south ray at B3", debug)
  assertBitboard(lTable.getSouthRay(C3), 0x0000000000000404u64, "wrong value for south ray at C3", debug)
  assertBitboard(lTable.getSouthRay(D3), 0x0000000000000808u64, "wrong value for south ray at D3", debug)
  assertBitboard(lTable.getSouthRay(E3), 0x0000000000001010u64, "wrong value for south ray at E3", debug)
  assertBitboard(lTable.getSouthRay(F3), 0x0000000000002020u64, "wrong value for south ray at F3", debug)
  assertBitboard(lTable.getSouthRay(G3), 0x0000000000004040u64, "wrong value for south ray at G3", debug)
  assertBitboard(lTable.getSouthRay(H3), 0x0000000000008080u64, "wrong value for south ray at H3", debug)
  assertBitboard(lTable.getSouthRay(A4), 0x0000000000010101u64, "wrong value for south ray at A4", debug)
  assertBitboard(lTable.getSouthRay(B4), 0x0000000000020202u64, "wrong value for south ray at B4", debug)
  assertBitboard(lTable.getSouthRay(C4), 0x0000000000040404u64, "wrong value for south ray at C4", debug)
  assertBitboard(lTable.getSouthRay(D4), 0x0000000000080808u64, "wrong value for south ray at D4", debug)
  assertBitboard(lTable.getSouthRay(E4), 0x0000000000101010u64, "wrong value for south ray at E4", debug)
  assertBitboard(lTable.getSouthRay(F4), 0x0000000000202020u64, "wrong value for south ray at F4", debug)
  assertBitboard(lTable.getSouthRay(G4), 0x0000000000404040u64, "wrong value for south ray at G4", debug)
  assertBitboard(lTable.getSouthRay(H4), 0x0000000000808080u64, "wrong value for south ray at H4", debug)
  assertBitboard(lTable.getSouthRay(A5), 0x0000000001010101u64, "wrong value for south ray at A5", debug)
  assertBitboard(lTable.getSouthRay(B5), 0x0000000002020202u64, "wrong value for south ray at B5", debug)
  assertBitboard(lTable.getSouthRay(C5), 0x0000000004040404u64, "wrong value for south ray at C5", debug)
  assertBitboard(lTable.getSouthRay(D5), 0x0000000008080808u64, "wrong value for south ray at D5", debug)
  assertBitboard(lTable.getSouthRay(E5), 0x0000000010101010u64, "wrong value for south ray at E5", debug)
  assertBitboard(lTable.getSouthRay(F5), 0x0000000020202020u64, "wrong value for south ray at F5", debug)
  assertBitboard(lTable.getSouthRay(G5), 0x0000000040404040u64, "wrong value for south ray at G5", debug)
  assertBitboard(lTable.getSouthRay(H5), 0x0000000080808080u64, "wrong value for south ray at H5", debug)
  assertBitboard(lTable.getSouthRay(A6), 0x0000000101010101u64, "wrong value for south ray at A6", debug)
  assertBitboard(lTable.getSouthRay(B6), 0x0000000202020202u64, "wrong value for south ray at B6", debug)
  assertBitboard(lTable.getSouthRay(C6), 0x0000000404040404u64, "wrong value for south ray at C6", debug)
  assertBitboard(lTable.getSouthRay(D6), 0x0000000808080808u64, "wrong value for south ray at D6", debug)
  assertBitboard(lTable.getSouthRay(E6), 0x0000001010101010u64, "wrong value for south ray at E6", debug)
  assertBitboard(lTable.getSouthRay(F6), 0x0000002020202020u64, "wrong value for south ray at F6", debug)
  assertBitboard(lTable.getSouthRay(G6), 0x0000004040404040u64, "wrong value for south ray at G6", debug)
  assertBitboard(lTable.getSouthRay(H6), 0x0000008080808080u64, "wrong value for south ray at H6", debug)
  assertBitboard(lTable.getSouthRay(A7), 0x0000010101010101u64, "wrong value for south ray at A7", debug)
  assertBitboard(lTable.getSouthRay(B7), 0x0000020202020202u64, "wrong value for south ray at B7", debug)
  assertBitboard(lTable.getSouthRay(C7), 0x0000040404040404u64, "wrong value for south ray at C7", debug)
  assertBitboard(lTable.getSouthRay(D7), 0x0000080808080808u64, "wrong value for south ray at D7", debug)
  assertBitboard(lTable.getSouthRay(E7), 0x0000101010101010u64, "wrong value for south ray at E7", debug)
  assertBitboard(lTable.getSouthRay(F7), 0x0000202020202020u64, "wrong value for south ray at F7", debug)
  assertBitboard(lTable.getSouthRay(G7), 0x0000404040404040u64, "wrong value for south ray at G7", debug)
  assertBitboard(lTable.getSouthRay(H7), 0x0000808080808080u64, "wrong value for south ray at H7", debug)
  assertBitboard(lTable.getSouthRay(A8), 0x0001010101010101u64, "wrong value for south ray at A8", debug)
  assertBitboard(lTable.getSouthRay(B8), 0x0002020202020202u64, "wrong value for south ray at B8", debug)
  assertBitboard(lTable.getSouthRay(C8), 0x0004040404040404u64, "wrong value for south ray at C8", debug)
  assertBitboard(lTable.getSouthRay(D8), 0x0008080808080808u64, "wrong value for south ray at D8", debug)
  assertBitboard(lTable.getSouthRay(E8), 0x0010101010101010u64, "wrong value for south ray at E8", debug)
  assertBitboard(lTable.getSouthRay(F8), 0x0020202020202020u64, "wrong value for south ray at F8", debug)
  assertBitboard(lTable.getSouthRay(G8), 0x0040404040404040u64, "wrong value for south ray at G8", debug)
  assertBitboard(lTable.getSouthRay(H8), 0x0080808080808080u64, "wrong value for south ray at H8", debug)

proc testEastRay(debug: bool)=
  assertBitboard(lTable.getEastRay(A1), 0x00000000000000FEu64, "wrong value for east ray at A1", debug)
  assertBitboard(lTable.getEastRay(B1), 0x00000000000000FCu64, "wrong value for east ray at B1", debug)
  assertBitboard(lTable.getEastRay(C1), 0x00000000000000F8u64, "wrong value for east ray at C1", debug)
  assertBitboard(lTable.getEastRay(D1), 0x00000000000000F0u64, "wrong value for east ray at D1", debug)
  assertBitboard(lTable.getEastRay(E1), 0x00000000000000E0u64, "wrong value for east ray at E1", debug)
  assertBitboard(lTable.getEastRay(F1), 0x00000000000000C0u64, "wrong value for east ray at F1", debug)
  assertBitboard(lTable.getEastRay(G1), 0x0000000000000080u64, "wrong value for east ray at G1", debug)
  assertBitboard(lTable.getEastRay(H1), 0x0000000000000000u64, "wrong value for east ray at H1", debug)
  assertBitboard(lTable.getEastRay(A2), 0x000000000000FE00u64, "wrong value for east ray at A2", debug)
  assertBitboard(lTable.getEastRay(B2), 0x000000000000FC00u64, "wrong value for east ray at B2", debug)
  assertBitboard(lTable.getEastRay(C2), 0x000000000000F800u64, "wrong value for east ray at C2", debug)
  assertBitboard(lTable.getEastRay(D2), 0x000000000000F000u64, "wrong value for east ray at D2", debug)
  assertBitboard(lTable.getEastRay(E2), 0x000000000000E000u64, "wrong value for east ray at E2", debug)
  assertBitboard(lTable.getEastRay(F2), 0x000000000000C000u64, "wrong value for east ray at F2", debug)
  assertBitboard(lTable.getEastRay(G2), 0x0000000000008000u64, "wrong value for east ray at G2", debug)
  assertBitboard(lTable.getEastRay(H2), 0x0000000000000000u64, "wrong value for east ray at H2", debug)
  assertBitboard(lTable.getEastRay(A3), 0x0000000000FE0000u64, "wrong value for east ray at A3", debug)
  assertBitboard(lTable.getEastRay(B3), 0x0000000000FC0000u64, "wrong value for east ray at B3", debug)
  assertBitboard(lTable.getEastRay(C3), 0x0000000000F80000u64, "wrong value for east ray at C3", debug)
  assertBitboard(lTable.getEastRay(D3), 0x0000000000F00000u64, "wrong value for east ray at D3", debug)
  assertBitboard(lTable.getEastRay(E3), 0x0000000000E00000u64, "wrong value for east ray at E3", debug)
  assertBitboard(lTable.getEastRay(F3), 0x0000000000C00000u64, "wrong value for east ray at F3", debug)
  assertBitboard(lTable.getEastRay(G3), 0x0000000000800000u64, "wrong value for east ray at G3", debug)
  assertBitboard(lTable.getEastRay(H3), 0x0000000000000000u64, "wrong value for east ray at H3", debug)
  assertBitboard(lTable.getEastRay(A4), 0x00000000FE000000u64, "wrong value for east ray at A4", debug)
  assertBitboard(lTable.getEastRay(B4), 0x00000000FC000000u64, "wrong value for east ray at B4", debug)
  assertBitboard(lTable.getEastRay(C4), 0x00000000F8000000u64, "wrong value for east ray at C4", debug)
  assertBitboard(lTable.getEastRay(D4), 0x00000000F0000000u64, "wrong value for east ray at D4", debug)
  assertBitboard(lTable.getEastRay(E4), 0x00000000E0000000u64, "wrong value for east ray at E4", debug)
  assertBitboard(lTable.getEastRay(F4), 0x00000000C0000000u64, "wrong value for east ray at F4", debug)
  assertBitboard(lTable.getEastRay(G4), 0x0000000080000000u64, "wrong value for east ray at G4", debug)
  assertBitboard(lTable.getEastRay(H4), 0x0000000000000000u64, "wrong value for east ray at H4", debug)
  assertBitboard(lTable.getEastRay(A5), 0x000000FE00000000u64, "wrong value for east ray at A5", debug)
  assertBitboard(lTable.getEastRay(B5), 0x000000FC00000000u64, "wrong value for east ray at B5", debug)
  assertBitboard(lTable.getEastRay(C5), 0x000000F800000000u64, "wrong value for east ray at C5", debug)
  assertBitboard(lTable.getEastRay(D5), 0x000000F000000000u64, "wrong value for east ray at D5", debug)
  assertBitboard(lTable.getEastRay(E5), 0x000000E000000000u64, "wrong value for east ray at E5", debug)
  assertBitboard(lTable.getEastRay(F5), 0x000000C000000000u64, "wrong value for east ray at F5", debug)
  assertBitboard(lTable.getEastRay(G5), 0x0000008000000000u64, "wrong value for east ray at G5", debug)
  assertBitboard(lTable.getEastRay(H5), 0x0000000000000000u64, "wrong value for east ray at H5", debug)
  assertBitboard(lTable.getEastRay(A6), 0x0000FE0000000000u64, "wrong value for east ray at A6", debug)
  assertBitboard(lTable.getEastRay(B6), 0x0000FC0000000000u64, "wrong value for east ray at B6", debug)
  assertBitboard(lTable.getEastRay(C6), 0x0000F80000000000u64, "wrong value for east ray at C6", debug)
  assertBitboard(lTable.getEastRay(D6), 0x0000F00000000000u64, "wrong value for east ray at D6", debug)
  assertBitboard(lTable.getEastRay(E6), 0x0000E00000000000u64, "wrong value for east ray at E6", debug)
  assertBitboard(lTable.getEastRay(F6), 0x0000C00000000000u64, "wrong value for east ray at F6", debug)
  assertBitboard(lTable.getEastRay(G6), 0x0000800000000000u64, "wrong value for east ray at G6", debug)
  assertBitboard(lTable.getEastRay(H6), 0x0000000000000000u64, "wrong value for east ray at H6", debug)
  assertBitboard(lTable.getEastRay(A7), 0x00FE000000000000u64, "wrong value for east ray at A7", debug)
  assertBitboard(lTable.getEastRay(B7), 0x00FC000000000000u64, "wrong value for east ray at B7", debug)
  assertBitboard(lTable.getEastRay(C7), 0x00F8000000000000u64, "wrong value for east ray at C7", debug)
  assertBitboard(lTable.getEastRay(D7), 0x00F0000000000000u64, "wrong value for east ray at D7", debug)
  assertBitboard(lTable.getEastRay(E7), 0x00E0000000000000u64, "wrong value for east ray at E7", debug)
  assertBitboard(lTable.getEastRay(F7), 0x00C0000000000000u64, "wrong value for east ray at F7", debug)
  assertBitboard(lTable.getEastRay(G7), 0x0080000000000000u64, "wrong value for east ray at G7", debug)
  assertBitboard(lTable.getEastRay(H7), 0x0000000000000000u64, "wrong value for east ray at H7", debug)
  assertBitboard(lTable.getEastRay(A8), 0xFE00000000000000u64, "wrong value for east ray at A8", debug)
  assertBitboard(lTable.getEastRay(B8), 0xFC00000000000000u64, "wrong value for east ray at B8", debug)
  assertBitboard(lTable.getEastRay(C8), 0xF800000000000000u64, "wrong value for east ray at C8", debug)
  assertBitboard(lTable.getEastRay(D8), 0xF000000000000000u64, "wrong value for east ray at D8", debug)
  assertBitboard(lTable.getEastRay(E8), 0xE000000000000000u64, "wrong value for east ray at E8", debug)
  assertBitboard(lTable.getEastRay(F8), 0xC000000000000000u64, "wrong value for east ray at F8", debug)
  assertBitboard(lTable.getEastRay(G8), 0x8000000000000000u64, "wrong value for east ray at G8", debug)
  assertBitboard(lTable.getEastRay(H8), 0x0000000000000000u64, "wrong value for east ray at H8", debug)

proc testWestRay(debug: bool)=
  assertBitboard(lTable.getWestRay(A1), 0x0000000000000000u64, "wrong value for west ray A1", debug)
  assertBitboard(lTable.getWestRay(B1), 0x0000000000000001u64, "wrong value for west ray B1", debug)
  assertBitboard(lTable.getWestRay(C1), 0x0000000000000003u64, "wrong value for west ray C1", debug)
  assertBitboard(lTable.getWestRay(D1), 0x0000000000000007u64, "wrong value for west ray D1", debug)
  assertBitboard(lTable.getWestRay(E1), 0x000000000000000Fu64, "wrong value for west ray E1", debug)
  assertBitboard(lTable.getWestRay(F1), 0x000000000000001Fu64, "wrong value for west ray F1", debug)
  assertBitboard(lTable.getWestRay(G1), 0x000000000000003Fu64, "wrong value for west ray G1", debug)
  assertBitboard(lTable.getWestRay(H1), 0x000000000000007Fu64, "wrong value for west ray H1", debug)
  assertBitboard(lTable.getWestRay(A2), 0x0000000000000000u64, "wrong value for west ray A2", debug)
  assertBitboard(lTable.getWestRay(B2), 0x0000000000000100u64, "wrong value for west ray B2", debug)
  assertBitboard(lTable.getWestRay(C2), 0x0000000000000300u64, "wrong value for west ray C2", debug)
  assertBitboard(lTable.getWestRay(D2), 0x0000000000000700u64, "wrong value for west ray D2", debug)
  assertBitboard(lTable.getWestRay(E2), 0x0000000000000F00u64, "wrong value for west ray E2", debug)
  assertBitboard(lTable.getWestRay(F2), 0x0000000000001F00u64, "wrong value for west ray F2", debug)
  assertBitboard(lTable.getWestRay(G2), 0x0000000000003F00u64, "wrong value for west ray G2", debug)
  assertBitboard(lTable.getWestRay(H2), 0x0000000000007F00u64, "wrong value for west ray H2", debug)
  assertBitboard(lTable.getWestRay(A3), 0x0000000000000000u64, "wrong value for west ray A3", debug)
  assertBitboard(lTable.getWestRay(B3), 0x0000000000010000u64, "wrong value for west ray B3", debug)
  assertBitboard(lTable.getWestRay(C3), 0x0000000000030000u64, "wrong value for west ray C3", debug)
  assertBitboard(lTable.getWestRay(D3), 0x0000000000070000u64, "wrong value for west ray D3", debug)
  assertBitboard(lTable.getWestRay(E3), 0x00000000000F0000u64, "wrong value for west ray E3", debug)
  assertBitboard(lTable.getWestRay(F3), 0x00000000001F0000u64, "wrong value for west ray F3", debug)
  assertBitboard(lTable.getWestRay(G3), 0x00000000003F0000u64, "wrong value for west ray G3", debug)
  assertBitboard(lTable.getWestRay(H3), 0x00000000007F0000u64, "wrong value for west ray H3", debug)
  assertBitboard(lTable.getWestRay(A4), 0x0000000000000000u64, "wrong value for west ray A4", debug)
  assertBitboard(lTable.getWestRay(B4), 0x0000000001000000u64, "wrong value for west ray B4", debug)
  assertBitboard(lTable.getWestRay(C4), 0x0000000003000000u64, "wrong value for west ray C4", debug)
  assertBitboard(lTable.getWestRay(D4), 0x0000000007000000u64, "wrong value for west ray D4", debug)
  assertBitboard(lTable.getWestRay(E4), 0x000000000F000000u64, "wrong value for west ray E4", debug)
  assertBitboard(lTable.getWestRay(F4), 0x000000001F000000u64, "wrong value for west ray F4", debug)
  assertBitboard(lTable.getWestRay(G4), 0x000000003F000000u64, "wrong value for west ray G4", debug)
  assertBitboard(lTable.getWestRay(H4), 0x000000007F000000u64, "wrong value for west ray H4", debug)
  assertBitboard(lTable.getWestRay(A5), 0x0000000000000000u64, "wrong value for west ray A5", debug)
  assertBitboard(lTable.getWestRay(B5), 0x0000000100000000u64, "wrong value for west ray B5", debug)
  assertBitboard(lTable.getWestRay(C5), 0x0000000300000000u64, "wrong value for west ray C5", debug)
  assertBitboard(lTable.getWestRay(D5), 0x0000000700000000u64, "wrong value for west ray D5", debug)
  assertBitboard(lTable.getWestRay(E5), 0x0000000F00000000u64, "wrong value for west ray E5", debug)
  assertBitboard(lTable.getWestRay(F5), 0x0000001F00000000u64, "wrong value for west ray F5", debug)
  assertBitboard(lTable.getWestRay(G5), 0x0000003F00000000u64, "wrong value for west ray G5", debug)
  assertBitboard(lTable.getWestRay(H5), 0x0000007F00000000u64, "wrong value for west ray H5", debug)
  assertBitboard(lTable.getWestRay(A6), 0x0000000000000000u64, "wrong value for west ray A6", debug)
  assertBitboard(lTable.getWestRay(B6), 0x0000010000000000u64, "wrong value for west ray B6", debug)
  assertBitboard(lTable.getWestRay(C6), 0x0000030000000000u64, "wrong value for west ray C6", debug)
  assertBitboard(lTable.getWestRay(D6), 0x0000070000000000u64, "wrong value for west ray D6", debug)
  assertBitboard(lTable.getWestRay(E6), 0x00000F0000000000u64, "wrong value for west ray E6", debug)
  assertBitboard(lTable.getWestRay(F6), 0x00001F0000000000u64, "wrong value for west ray F6", debug)
  assertBitboard(lTable.getWestRay(G6), 0x00003F0000000000u64, "wrong value for west ray G6", debug)
  assertBitboard(lTable.getWestRay(H6), 0x00007F0000000000u64, "wrong value for west ray H6", debug)
  assertBitboard(lTable.getWestRay(A7), 0x0000000000000000u64, "wrong value for west ray A7", debug)
  assertBitboard(lTable.getWestRay(B7), 0x0001000000000000u64, "wrong value for west ray B7", debug)
  assertBitboard(lTable.getWestRay(C7), 0x0003000000000000u64, "wrong value for west ray C7", debug)
  assertBitboard(lTable.getWestRay(D7), 0x0007000000000000u64, "wrong value for west ray D7", debug)
  assertBitboard(lTable.getWestRay(E7), 0x000F000000000000u64, "wrong value for west ray E7", debug)
  assertBitboard(lTable.getWestRay(F7), 0x001F000000000000u64, "wrong value for west ray F7", debug)
  assertBitboard(lTable.getWestRay(G7), 0x003F000000000000u64, "wrong value for west ray G7", debug)
  assertBitboard(lTable.getWestRay(H7), 0x007F000000000000u64, "wrong value for west ray H7", debug)
  assertBitboard(lTable.getWestRay(A8), 0x0000000000000000u64, "wrong value for west ray A8", debug)
  assertBitboard(lTable.getWestRay(B8), 0x0100000000000000u64, "wrong value for west ray B8", debug)
  assertBitboard(lTable.getWestRay(C8), 0x0300000000000000u64, "wrong value for west ray C8", debug)
  assertBitboard(lTable.getWestRay(D8), 0x0700000000000000u64, "wrong value for west ray D8", debug)
  assertBitboard(lTable.getWestRay(E8), 0x0F00000000000000u64, "wrong value for west ray E8", debug)
  assertBitboard(lTable.getWestRay(F8), 0x1F00000000000000u64, "wrong value for west ray F8", debug)
  assertBitboard(lTable.getWestRay(G8), 0x3F00000000000000u64, "wrong value for west ray G8", debug)
  assertBitboard(lTable.getWestRay(H8), 0x7F00000000000000u64, "wrong value for west ray H8", debug)

proc testNorthEastRay(debug: bool)=
  assertBitboard(lTable.getNorthEastRay(A1), 0x8040201008040200u64, "wrong value for north-east ray at A1", debug)
  assertBitboard(lTable.getNorthEastRay(B1), 0x0080402010080400u64, "wrong value for north-east ray at B1", debug)
  assertBitboard(lTable.getNorthEastRay(C1), 0x0000804020100800u64, "wrong value for north-east ray at C1", debug)
  assertBitboard(lTable.getNorthEastRay(D1), 0x0000008040201000u64, "wrong value for north-east ray at D1", debug)
  assertBitboard(lTable.getNorthEastRay(E1), 0x0000000080402000u64, "wrong value for north-east ray at E1", debug)
  assertBitboard(lTable.getNorthEastRay(F1), 0x0000000000804000u64, "wrong value for north-east ray at F1", debug)
  assertBitboard(lTable.getNorthEastRay(G1), 0x0000000000008000u64, "wrong value for north-east ray at G1", debug)
  assertBitboard(lTable.getNorthEastRay(H1), 0x0000000000000000u64, "wrong value for north-east ray at H1", debug)
  assertBitboard(lTable.getNorthEastRay(A2), 0x4020100804020000u64, "wrong value for north-east ray at A2", debug)
  assertBitboard(lTable.getNorthEastRay(B2), 0x8040201008040000u64, "wrong value for north-east ray at B2", debug)
  assertBitboard(lTable.getNorthEastRay(C2), 0x0080402010080000u64, "wrong value for north-east ray at C2", debug)
  assertBitboard(lTable.getNorthEastRay(D2), 0x0000804020100000u64, "wrong value for north-east ray at D2", debug)
  assertBitboard(lTable.getNorthEastRay(E2), 0x0000008040200000u64, "wrong value for north-east ray at E2", debug)
  assertBitboard(lTable.getNorthEastRay(F2), 0x0000000080400000u64, "wrong value for north-east ray at F2", debug)
  assertBitboard(lTable.getNorthEastRay(G2), 0x0000000000800000u64, "wrong value for north-east ray at G2", debug)
  assertBitboard(lTable.getNorthEastRay(H2), 0x0000000000000000u64, "wrong value for north-east ray at H2", debug)
  assertBitboard(lTable.getNorthEastRay(A3), 0x2010080402000000u64, "wrong value for north-east ray at A3", debug)
  assertBitboard(lTable.getNorthEastRay(B3), 0x4020100804000000u64, "wrong value for north-east ray at B3", debug)
  assertBitboard(lTable.getNorthEastRay(C3), 0x8040201008000000u64, "wrong value for north-east ray at C3", debug)
  assertBitboard(lTable.getNorthEastRay(D3), 0x0080402010000000u64, "wrong value for north-east ray at D3", debug)
  assertBitboard(lTable.getNorthEastRay(E3), 0x0000804020000000u64, "wrong value for north-east ray at E3", debug)
  assertBitboard(lTable.getNorthEastRay(F3), 0x0000008040000000u64, "wrong value for north-east ray at F3", debug)
  assertBitboard(lTable.getNorthEastRay(G3), 0x0000000080000000u64, "wrong value for north-east ray at G3", debug)
  assertBitboard(lTable.getNorthEastRay(H3), 0x0000000000000000u64, "wrong value for north-east ray at H3", debug)
  assertBitboard(lTable.getNorthEastRay(A4), 0x1008040200000000u64, "wrong value for north-east ray at A4", debug)
  assertBitboard(lTable.getNorthEastRay(B4), 0x2010080400000000u64, "wrong value for north-east ray at B4", debug)
  assertBitboard(lTable.getNorthEastRay(C4), 0x4020100800000000u64, "wrong value for north-east ray at C4", debug)
  assertBitboard(lTable.getNorthEastRay(D4), 0x8040201000000000u64, "wrong value for north-east ray at D4", debug)
  assertBitboard(lTable.getNorthEastRay(E4), 0x0080402000000000u64, "wrong value for north-east ray at E4", debug)
  assertBitboard(lTable.getNorthEastRay(F4), 0x0000804000000000u64, "wrong value for north-east ray at F4", debug)
  assertBitboard(lTable.getNorthEastRay(G4), 0x0000008000000000u64, "wrong value for north-east ray at G4", debug)
  assertBitboard(lTable.getNorthEastRay(H4), 0x0000000000000000u64, "wrong value for north-east ray at H4", debug)
  assertBitboard(lTable.getNorthEastRay(A5), 0x0804020000000000u64, "wrong value for north-east ray at A5", debug)
  assertBitboard(lTable.getNorthEastRay(B5), 0x1008040000000000u64, "wrong value for north-east ray at B5", debug)
  assertBitboard(lTable.getNorthEastRay(C5), 0x2010080000000000u64, "wrong value for north-east ray at C5", debug)
  assertBitboard(lTable.getNorthEastRay(D5), 0x4020100000000000u64, "wrong value for north-east ray at D5", debug)
  assertBitboard(lTable.getNorthEastRay(E5), 0x8040200000000000u64, "wrong value for north-east ray at E5", debug)
  assertBitboard(lTable.getNorthEastRay(F5), 0x0080400000000000u64, "wrong value for north-east ray at F5", debug)
  assertBitboard(lTable.getNorthEastRay(G5), 0x0000800000000000u64, "wrong value for north-east ray at G5", debug)
  assertBitboard(lTable.getNorthEastRay(H5), 0x0000000000000000u64, "wrong value for north-east ray at H5", debug)
  assertBitboard(lTable.getNorthEastRay(A6), 0x0402000000000000u64, "wrong value for north-east ray at A6", debug)
  assertBitboard(lTable.getNorthEastRay(B6), 0x0804000000000000u64, "wrong value for north-east ray at B6", debug)
  assertBitboard(lTable.getNorthEastRay(C6), 0x1008000000000000u64, "wrong value for north-east ray at C6", debug)
  assertBitboard(lTable.getNorthEastRay(D6), 0x2010000000000000u64, "wrong value for north-east ray at D6", debug)
  assertBitboard(lTable.getNorthEastRay(E6), 0x4020000000000000u64, "wrong value for north-east ray at E6", debug)
  assertBitboard(lTable.getNorthEastRay(F6), 0x8040000000000000u64, "wrong value for north-east ray at F6", debug)
  assertBitboard(lTable.getNorthEastRay(G6), 0x0080000000000000u64, "wrong value for north-east ray at G6", debug)
  assertBitboard(lTable.getNorthEastRay(H6), 0x0000000000000000u64, "wrong value for north-east ray at H6", debug)
  assertBitboard(lTable.getNorthEastRay(A7), 0x0200000000000000u64, "wrong value for north-east ray at A7", debug)
  assertBitboard(lTable.getNorthEastRay(B7), 0x0400000000000000u64, "wrong value for north-east ray at B7", debug)
  assertBitboard(lTable.getNorthEastRay(C7), 0x0800000000000000u64, "wrong value for north-east ray at C7", debug)
  assertBitboard(lTable.getNorthEastRay(D7), 0x1000000000000000u64, "wrong value for north-east ray at D7", debug)
  assertBitboard(lTable.getNorthEastRay(E7), 0x2000000000000000u64, "wrong value for north-east ray at E7", debug)
  assertBitboard(lTable.getNorthEastRay(F7), 0x4000000000000000u64, "wrong value for north-east ray at F7", debug)
  assertBitboard(lTable.getNorthEastRay(G7), 0x8000000000000000u64, "wrong value for north-east ray at G7", debug)
  assertBitboard(lTable.getNorthEastRay(H7), 0x0000000000000000u64, "wrong value for north-east ray at H7", debug)
  assertBitboard(lTable.getNorthEastRay(A8), 0x0000000000000000u64, "wrong value for north-east ray at A8", debug)
  assertBitboard(lTable.getNorthEastRay(B8), 0x0000000000000000u64, "wrong value for north-east ray at B8", debug)
  assertBitboard(lTable.getNorthEastRay(C8), 0x0000000000000000u64, "wrong value for north-east ray at C8", debug)
  assertBitboard(lTable.getNorthEastRay(D8), 0x0000000000000000u64, "wrong value for north-east ray at D8", debug)
  assertBitboard(lTable.getNorthEastRay(E8), 0x0000000000000000u64, "wrong value for north-east ray at E8", debug)
  assertBitboard(lTable.getNorthEastRay(F8), 0x0000000000000000u64, "wrong value for north-east ray at F8", debug)
  assertBitboard(lTable.getNorthEastRay(G8), 0x0000000000000000u64, "wrong value for north-east ray at G8", debug)
  assertBitboard(lTable.getNorthEastRay(H8), 0x0000000000000000u64, "wrong value for north-east ray at H8", debug)

proc testNorthWestRay(debug: bool)=
  assertBitboard(lTable.getNorthWestRay(A1), 0x0000000000000000u64, "wrong value for north-east ray at A1", debug)
  assertBitboard(lTable.getNorthWestRay(B1), 0x0000000000000100u64, "wrong value for north-east ray at B1", debug)
  assertBitboard(lTable.getNorthWestRay(C1), 0x0000000000010200u64, "wrong value for north-east ray at C1", debug)
  assertBitboard(lTable.getNorthWestRay(D1), 0x0000000001020400u64, "wrong value for north-east ray at D1", debug)
  assertBitboard(lTable.getNorthWestRay(E1), 0x0000000102040800u64, "wrong value for north-east ray at E1", debug)
  assertBitboard(lTable.getNorthWestRay(F1), 0x0000010204081000u64, "wrong value for north-east ray at F1", debug)
  assertBitboard(lTable.getNorthWestRay(G1), 0x0001020408102000u64, "wrong value for north-east ray at G1", debug)
  assertBitboard(lTable.getNorthWestRay(H1), 0x0102040810204000u64, "wrong value for north-east ray at H1", debug)
  assertBitboard(lTable.getNorthWestRay(A2), 0x0000000000000000u64, "wrong value for north-east ray at A2", debug)
  assertBitboard(lTable.getNorthWestRay(B2), 0x0000000000010000u64, "wrong value for north-east ray at B2", debug)
  assertBitboard(lTable.getNorthWestRay(C2), 0x0000000001020000u64, "wrong value for north-east ray at C2", debug)
  assertBitboard(lTable.getNorthWestRay(D2), 0x0000000102040000u64, "wrong value for north-east ray at D2", debug)
  assertBitboard(lTable.getNorthWestRay(E2), 0x0000010204080000u64, "wrong value for north-east ray at E2", debug)
  assertBitboard(lTable.getNorthWestRay(F2), 0x0001020408100000u64, "wrong value for north-east ray at F2", debug)
  assertBitboard(lTable.getNorthWestRay(G2), 0x0102040810200000u64, "wrong value for north-east ray at G2", debug)
  assertBitboard(lTable.getNorthWestRay(H2), 0x0204081020400000u64, "wrong value for north-east ray at H2", debug)
  assertBitboard(lTable.getNorthWestRay(A3), 0x0000000000000000u64, "wrong value for north-east ray at A3", debug)
  assertBitboard(lTable.getNorthWestRay(B3), 0x0000000001000000u64, "wrong value for north-east ray at B3", debug)
  assertBitboard(lTable.getNorthWestRay(C3), 0x0000000102000000u64, "wrong value for north-east ray at C3", debug)
  assertBitboard(lTable.getNorthWestRay(D3), 0x0000010204000000u64, "wrong value for north-east ray at D3", debug)
  assertBitboard(lTable.getNorthWestRay(E3), 0x0001020408000000u64, "wrong value for north-east ray at E3", debug)
  assertBitboard(lTable.getNorthWestRay(F3), 0x0102040810000000u64, "wrong value for north-east ray at F3", debug)
  assertBitboard(lTable.getNorthWestRay(G3), 0x0204081020000000u64, "wrong value for north-east ray at G3", debug)
  assertBitboard(lTable.getNorthWestRay(H3), 0x0408102040000000u64, "wrong value for north-east ray at H3", debug)
  assertBitboard(lTable.getNorthWestRay(A4), 0x0000000000000000u64, "wrong value for north-east ray at A4", debug)
  assertBitboard(lTable.getNorthWestRay(B4), 0x0000000100000000u64, "wrong value for north-east ray at B4", debug)
  assertBitboard(lTable.getNorthWestRay(C4), 0x0000010200000000u64, "wrong value for north-east ray at C4", debug)
  assertBitboard(lTable.getNorthWestRay(D4), 0x0001020400000000u64, "wrong value for north-east ray at D4", debug)
  assertBitboard(lTable.getNorthWestRay(E4), 0x0102040800000000u64, "wrong value for north-east ray at E4", debug)
  assertBitboard(lTable.getNorthWestRay(F4), 0x0204081000000000u64, "wrong value for north-east ray at F4", debug)
  assertBitboard(lTable.getNorthWestRay(G4), 0x0408102000000000u64, "wrong value for north-east ray at G4", debug)
  assertBitboard(lTable.getNorthWestRay(H4), 0x0810204000000000u64, "wrong value for north-east ray at H4", debug)
  assertBitboard(lTable.getNorthWestRay(A5), 0x0000000000000000u64, "wrong value for north-east ray at A5", debug)
  assertBitboard(lTable.getNorthWestRay(B5), 0x0000010000000000u64, "wrong value for north-east ray at B5", debug)
  assertBitboard(lTable.getNorthWestRay(C5), 0x0001020000000000u64, "wrong value for north-east ray at C5", debug)
  assertBitboard(lTable.getNorthWestRay(D5), 0x0102040000000000u64, "wrong value for north-east ray at D5", debug)
  assertBitboard(lTable.getNorthWestRay(E5), 0x0204080000000000u64, "wrong value for north-east ray at E5", debug)
  assertBitboard(lTable.getNorthWestRay(F5), 0x0408100000000000u64, "wrong value for north-east ray at F5", debug)
  assertBitboard(lTable.getNorthWestRay(G5), 0x0810200000000000u64, "wrong value for north-east ray at G5", debug)
  assertBitboard(lTable.getNorthWestRay(H5), 0x1020400000000000u64, "wrong value for north-east ray at H5", debug)
  assertBitboard(lTable.getNorthWestRay(A6), 0x0000000000000000u64, "wrong value for north-east ray at A6", debug)
  assertBitboard(lTable.getNorthWestRay(B6), 0x0001000000000000u64, "wrong value for north-east ray at B6", debug)
  assertBitboard(lTable.getNorthWestRay(C6), 0x0102000000000000u64, "wrong value for north-east ray at C6", debug)
  assertBitboard(lTable.getNorthWestRay(D6), 0x0204000000000000u64, "wrong value for north-east ray at D6", debug)
  assertBitboard(lTable.getNorthWestRay(E6), 0x0408000000000000u64, "wrong value for north-east ray at E6", debug)
  assertBitboard(lTable.getNorthWestRay(F6), 0x0810000000000000u64, "wrong value for north-east ray at F6", debug)
  assertBitboard(lTable.getNorthWestRay(G6), 0x1020000000000000u64, "wrong value for north-east ray at G6", debug)
  assertBitboard(lTable.getNorthWestRay(H6), 0x2040000000000000u64, "wrong value for north-east ray at H6", debug)
  assertBitboard(lTable.getNorthWestRay(A7), 0x0000000000000000u64, "wrong value for north-east ray at A7", debug)
  assertBitboard(lTable.getNorthWestRay(B7), 0x0100000000000000u64, "wrong value for north-east ray at B7", debug)
  assertBitboard(lTable.getNorthWestRay(C7), 0x0200000000000000u64, "wrong value for north-east ray at C7", debug)
  assertBitboard(lTable.getNorthWestRay(D7), 0x0400000000000000u64, "wrong value for north-east ray at D7", debug)
  assertBitboard(lTable.getNorthWestRay(E7), 0x0800000000000000u64, "wrong value for north-east ray at E7", debug)
  assertBitboard(lTable.getNorthWestRay(F7), 0x1000000000000000u64, "wrong value for north-east ray at F7", debug)
  assertBitboard(lTable.getNorthWestRay(G7), 0x2000000000000000u64, "wrong value for north-east ray at G7", debug)
  assertBitboard(lTable.getNorthWestRay(H7), 0x4000000000000000u64, "wrong value for north-east ray at H7", debug)
  assertBitboard(lTable.getNorthWestRay(A8), 0x0000000000000000u64, "wrong value for north-east ray at A8", debug)
  assertBitboard(lTable.getNorthWestRay(B8), 0x0000000000000000u64, "wrong value for north-east ray at B8", debug)
  assertBitboard(lTable.getNorthWestRay(C8), 0x0000000000000000u64, "wrong value for north-east ray at C8", debug)
  assertBitboard(lTable.getNorthWestRay(D8), 0x0000000000000000u64, "wrong value for north-east ray at D8", debug)
  assertBitboard(lTable.getNorthWestRay(E8), 0x0000000000000000u64, "wrong value for north-east ray at E8", debug)
  assertBitboard(lTable.getNorthWestRay(F8), 0x0000000000000000u64, "wrong value for north-east ray at F8", debug)
  assertBitboard(lTable.getNorthWestRay(G8), 0x0000000000000000u64, "wrong value for north-east ray at G8", debug)
  assertBitboard(lTable.getNorthWestRay(H8), 0x0000000000000000u64, "wrong value for north-east ray at H8", debug)

proc testSouthEastRay(debug: bool)=
  assertBitboard(lTable.getSouthEastRay(A1), 0x0000000000000000u64, "wrong value for south-east ray at A1", debug)
  assertBitboard(lTable.getSouthEastRay(B1), 0x0000000000000000u64, "wrong value for south-east ray at B1", debug)
  assertBitboard(lTable.getSouthEastRay(C1), 0x0000000000000000u64, "wrong value for south-east ray at C1", debug)
  assertBitboard(lTable.getSouthEastRay(D1), 0x0000000000000000u64, "wrong value for south-east ray at D1", debug)
  assertBitboard(lTable.getSouthEastRay(E1), 0x0000000000000000u64, "wrong value for south-east ray at E1", debug)
  assertBitboard(lTable.getSouthEastRay(F1), 0x0000000000000000u64, "wrong value for south-east ray at F1", debug)
  assertBitboard(lTable.getSouthEastRay(G1), 0x0000000000000000u64, "wrong value for south-east ray at G1", debug)
  assertBitboard(lTable.getSouthEastRay(H1), 0x0000000000000000u64, "wrong value for south-east ray at H1", debug)
  assertBitboard(lTable.getSouthEastRay(A2), 0x0000000000000002u64, "wrong value for south-east ray at A2", debug)
  assertBitboard(lTable.getSouthEastRay(B2), 0x0000000000000004u64, "wrong value for south-east ray at B2", debug)
  assertBitboard(lTable.getSouthEastRay(C2), 0x0000000000000008u64, "wrong value for south-east ray at C2", debug)
  assertBitboard(lTable.getSouthEastRay(D2), 0x0000000000000010u64, "wrong value for south-east ray at D2", debug)
  assertBitboard(lTable.getSouthEastRay(E2), 0x0000000000000020u64, "wrong value for south-east ray at E2", debug)
  assertBitboard(lTable.getSouthEastRay(F2), 0x0000000000000040u64, "wrong value for south-east ray at F2", debug)
  assertBitboard(lTable.getSouthEastRay(G2), 0x0000000000000080u64, "wrong value for south-east ray at G2", debug)
  assertBitboard(lTable.getSouthEastRay(H2), 0x0000000000000000u64, "wrong value for south-east ray at H2", debug)
  assertBitboard(lTable.getSouthEastRay(A3), 0x0000000000000204u64, "wrong value for south-east ray at A3", debug)
  assertBitboard(lTable.getSouthEastRay(B3), 0x0000000000000408u64, "wrong value for south-east ray at B3", debug)
  assertBitboard(lTable.getSouthEastRay(C3), 0x0000000000000810u64, "wrong value for south-east ray at C3", debug)
  assertBitboard(lTable.getSouthEastRay(D3), 0x0000000000001020u64, "wrong value for south-east ray at D3", debug)
  assertBitboard(lTable.getSouthEastRay(E3), 0x0000000000002040u64, "wrong value for south-east ray at E3", debug)
  assertBitboard(lTable.getSouthEastRay(F3), 0x0000000000004080u64, "wrong value for south-east ray at F3", debug)
  assertBitboard(lTable.getSouthEastRay(G3), 0x0000000000008000u64, "wrong value for south-east ray at G3", debug)
  assertBitboard(lTable.getSouthEastRay(H3), 0x0000000000000000u64, "wrong value for south-east ray at H3", debug)
  assertBitboard(lTable.getSouthEastRay(A4), 0x0000000000020408u64, "wrong value for south-east ray at A4", debug)
  assertBitboard(lTable.getSouthEastRay(B4), 0x0000000000040810u64, "wrong value for south-east ray at B4", debug)
  assertBitboard(lTable.getSouthEastRay(C4), 0x0000000000081020u64, "wrong value for south-east ray at C4", debug)
  assertBitboard(lTable.getSouthEastRay(D4), 0x0000000000102040u64, "wrong value for south-east ray at D4", debug)
  assertBitboard(lTable.getSouthEastRay(E4), 0x0000000000204080u64, "wrong value for south-east ray at E4", debug)
  assertBitboard(lTable.getSouthEastRay(F4), 0x0000000000408000u64, "wrong value for south-east ray at F4", debug)
  assertBitboard(lTable.getSouthEastRay(G4), 0x0000000000800000u64, "wrong value for south-east ray at G4", debug)
  assertBitboard(lTable.getSouthEastRay(H4), 0x0000000000000000u64, "wrong value for south-east ray at H4", debug)
  assertBitboard(lTable.getSouthEastRay(A5), 0x0000000002040810u64, "wrong value for south-east ray at A5", debug)
  assertBitboard(lTable.getSouthEastRay(B5), 0x0000000004081020u64, "wrong value for south-east ray at B5", debug)
  assertBitboard(lTable.getSouthEastRay(C5), 0x0000000008102040u64, "wrong value for south-east ray at C5", debug)
  assertBitboard(lTable.getSouthEastRay(D5), 0x0000000010204080u64, "wrong value for south-east ray at D5", debug)
  assertBitboard(lTable.getSouthEastRay(E5), 0x0000000020408000u64, "wrong value for south-east ray at E5", debug)
  assertBitboard(lTable.getSouthEastRay(F5), 0x0000000040800000u64, "wrong value for south-east ray at F5", debug)
  assertBitboard(lTable.getSouthEastRay(G5), 0x0000000080000000u64, "wrong value for south-east ray at G5", debug)
  assertBitboard(lTable.getSouthEastRay(H5), 0x0000000000000000u64, "wrong value for south-east ray at H5", debug)
  assertBitboard(lTable.getSouthEastRay(A6), 0x0000000204081020u64, "wrong value for south-east ray at A6", debug)
  assertBitboard(lTable.getSouthEastRay(B6), 0x0000000408102040u64, "wrong value for south-east ray at B6", debug)
  assertBitboard(lTable.getSouthEastRay(C6), 0x0000000810204080u64, "wrong value for south-east ray at C6", debug)
  assertBitboard(lTable.getSouthEastRay(D6), 0x0000001020408000u64, "wrong value for south-east ray at D6", debug)
  assertBitboard(lTable.getSouthEastRay(E6), 0x0000002040800000u64, "wrong value for south-east ray at E6", debug)
  assertBitboard(lTable.getSouthEastRay(F6), 0x0000004080000000u64, "wrong value for south-east ray at F6", debug)
  assertBitboard(lTable.getSouthEastRay(G6), 0x0000008000000000u64, "wrong value for south-east ray at G6", debug)
  assertBitboard(lTable.getSouthEastRay(H6), 0x0000000000000000u64, "wrong value for south-east ray at H6", debug)
  assertBitboard(lTable.getSouthEastRay(A7), 0x0000020408102040u64, "wrong value for south-east ray at A7", debug)
  assertBitboard(lTable.getSouthEastRay(B7), 0x0000040810204080u64, "wrong value for south-east ray at B7", debug)
  assertBitboard(lTable.getSouthEastRay(C7), 0x0000081020408000u64, "wrong value for south-east ray at C7", debug)
  assertBitboard(lTable.getSouthEastRay(D7), 0x0000102040800000u64, "wrong value for south-east ray at D7", debug)
  assertBitboard(lTable.getSouthEastRay(E7), 0x0000204080000000u64, "wrong value for south-east ray at E7", debug)
  assertBitboard(lTable.getSouthEastRay(F7), 0x0000408000000000u64, "wrong value for south-east ray at F7", debug)
  assertBitboard(lTable.getSouthEastRay(G7), 0x0000800000000000u64, "wrong value for south-east ray at G7", debug)
  assertBitboard(lTable.getSouthEastRay(H7), 0x0000000000000000u64, "wrong value for south-east ray at H7", debug)
  assertBitboard(lTable.getSouthEastRay(A8), 0x0002040810204080u64, "wrong value for south-east ray at A8", debug)
  assertBitboard(lTable.getSouthEastRay(B8), 0x0004081020408000u64, "wrong value for south-east ray at B8", debug)
  assertBitboard(lTable.getSouthEastRay(C8), 0x0008102040800000u64, "wrong value for south-east ray at C8", debug)
  assertBitboard(lTable.getSouthEastRay(D8), 0x0010204080000000u64, "wrong value for south-east ray at D8", debug)
  assertBitboard(lTable.getSouthEastRay(E8), 0x0020408000000000u64, "wrong value for south-east ray at E8", debug)
  assertBitboard(lTable.getSouthEastRay(F8), 0x0040800000000000u64, "wrong value for south-east ray at F8", debug)
  assertBitboard(lTable.getSouthEastRay(G8), 0x0080000000000000u64, "wrong value for south-east ray at G8", debug)
  assertBitboard(lTable.getSouthEastRay(H8), 0x0000000000000000u64, "wrong value for south-east ray at H8", debug)

proc testSouthWestRay(debug: bool)=
  assertBitboard(lTable.getSouthWestRay(A1), 0x0000000000000000u64, "wrong value for south-west ray at A1", debug)
  assertBitboard(lTable.getSouthWestRay(B1), 0x0000000000000000u64, "wrong value for south-west ray at B1", debug)
  assertBitboard(lTable.getSouthWestRay(C1), 0x0000000000000000u64, "wrong value for south-west ray at C1", debug)
  assertBitboard(lTable.getSouthWestRay(D1), 0x0000000000000000u64, "wrong value for south-west ray at D1", debug)
  assertBitboard(lTable.getSouthWestRay(E1), 0x0000000000000000u64, "wrong value for south-west ray at E1", debug)
  assertBitboard(lTable.getSouthWestRay(F1), 0x0000000000000000u64, "wrong value for south-west ray at F1", debug)
  assertBitboard(lTable.getSouthWestRay(G1), 0x0000000000000000u64, "wrong value for south-west ray at G1", debug)
  assertBitboard(lTable.getSouthWestRay(H1), 0x0000000000000000u64, "wrong value for south-west ray at H1", debug)
  assertBitboard(lTable.getSouthWestRay(A2), 0x0000000000000000u64, "wrong value for south-west ray at A2", debug)
  assertBitboard(lTable.getSouthWestRay(B2), 0x0000000000000001u64, "wrong value for south-west ray at B2", debug)
  assertBitboard(lTable.getSouthWestRay(C2), 0x0000000000000002u64, "wrong value for south-west ray at C2", debug)
  assertBitboard(lTable.getSouthWestRay(D2), 0x0000000000000004u64, "wrong value for south-west ray at D2", debug)
  assertBitboard(lTable.getSouthWestRay(E2), 0x0000000000000008u64, "wrong value for south-west ray at E2", debug)
  assertBitboard(lTable.getSouthWestRay(F2), 0x0000000000000010u64, "wrong value for south-west ray at F2", debug)
  assertBitboard(lTable.getSouthWestRay(G2), 0x0000000000000020u64, "wrong value for south-west ray at G2", debug)
  assertBitboard(lTable.getSouthWestRay(H2), 0x0000000000000040u64, "wrong value for south-west ray at H2", debug)
  assertBitboard(lTable.getSouthWestRay(A3), 0x0000000000000000u64, "wrong value for south-west ray at A3", debug)
  assertBitboard(lTable.getSouthWestRay(B3), 0x0000000000000100u64, "wrong value for south-west ray at B3", debug)
  assertBitboard(lTable.getSouthWestRay(C3), 0x0000000000000201u64, "wrong value for south-west ray at C3", debug)
  assertBitboard(lTable.getSouthWestRay(D3), 0x0000000000000402u64, "wrong value for south-west ray at D3", debug)
  assertBitboard(lTable.getSouthWestRay(E3), 0x0000000000000804u64, "wrong value for south-west ray at E3", debug)
  assertBitboard(lTable.getSouthWestRay(F3), 0x0000000000001008u64, "wrong value for south-west ray at F3", debug)
  assertBitboard(lTable.getSouthWestRay(G3), 0x0000000000002010u64, "wrong value for south-west ray at G3", debug)
  assertBitboard(lTable.getSouthWestRay(H3), 0x0000000000004020u64, "wrong value for south-west ray at H3", debug)
  assertBitboard(lTable.getSouthWestRay(A4), 0x0000000000000000u64, "wrong value for south-west ray at A4", debug)
  assertBitboard(lTable.getSouthWestRay(B4), 0x0000000000010000u64, "wrong value for south-west ray at B4", debug)
  assertBitboard(lTable.getSouthWestRay(C4), 0x0000000000020100u64, "wrong value for south-west ray at C4", debug)
  assertBitboard(lTable.getSouthWestRay(D4), 0x0000000000040201u64, "wrong value for south-west ray at D4", debug)
  assertBitboard(lTable.getSouthWestRay(E4), 0x0000000000080402u64, "wrong value for south-west ray at E4", debug)
  assertBitboard(lTable.getSouthWestRay(F4), 0x0000000000100804u64, "wrong value for south-west ray at F4", debug)
  assertBitboard(lTable.getSouthWestRay(G4), 0x0000000000201008u64, "wrong value for south-west ray at G4", debug)
  assertBitboard(lTable.getSouthWestRay(H4), 0x0000000000402010u64, "wrong value for south-west ray at H4", debug)
  assertBitboard(lTable.getSouthWestRay(A5), 0x0000000000000000u64, "wrong value for south-west ray at A5", debug)
  assertBitboard(lTable.getSouthWestRay(B5), 0x0000000001000000u64, "wrong value for south-west ray at B5", debug)
  assertBitboard(lTable.getSouthWestRay(C5), 0x0000000002010000u64, "wrong value for south-west ray at C5", debug)
  assertBitboard(lTable.getSouthWestRay(D5), 0x0000000004020100u64, "wrong value for south-west ray at D5", debug)
  assertBitboard(lTable.getSouthWestRay(E5), 0x0000000008040201u64, "wrong value for south-west ray at E5", debug)
  assertBitboard(lTable.getSouthWestRay(F5), 0x0000000010080402u64, "wrong value for south-west ray at F5", debug)
  assertBitboard(lTable.getSouthWestRay(G5), 0x0000000020100804u64, "wrong value for south-west ray at G5", debug)
  assertBitboard(lTable.getSouthWestRay(H5), 0x0000000040201008u64, "wrong value for south-west ray at H5", debug)
  assertBitboard(lTable.getSouthWestRay(A6), 0x0000000000000000u64, "wrong value for south-west ray at A6", debug)
  assertBitboard(lTable.getSouthWestRay(B6), 0x0000000100000000u64, "wrong value for south-west ray at B6", debug)
  assertBitboard(lTable.getSouthWestRay(C6), 0x0000000201000000u64, "wrong value for south-west ray at C6", debug)
  assertBitboard(lTable.getSouthWestRay(D6), 0x0000000402010000u64, "wrong value for south-west ray at D6", debug)
  assertBitboard(lTable.getSouthWestRay(E6), 0x0000000804020100u64, "wrong value for south-west ray at E6", debug)
  assertBitboard(lTable.getSouthWestRay(F6), 0x0000001008040201u64, "wrong value for south-west ray at F6", debug)
  assertBitboard(lTable.getSouthWestRay(G6), 0x0000002010080402u64, "wrong value for south-west ray at G6", debug)
  assertBitboard(lTable.getSouthWestRay(H6), 0x0000004020100804u64, "wrong value for south-west ray at H6", debug)
  assertBitboard(lTable.getSouthWestRay(A7), 0x0000000000000000u64, "wrong value for south-west ray at A7", debug)
  assertBitboard(lTable.getSouthWestRay(B7), 0x0000010000000000u64, "wrong value for south-west ray at B7", debug)
  assertBitboard(lTable.getSouthWestRay(C7), 0x0000020100000000u64, "wrong value for south-west ray at C7", debug)
  assertBitboard(lTable.getSouthWestRay(D7), 0x0000040201000000u64, "wrong value for south-west ray at D7", debug)
  assertBitboard(lTable.getSouthWestRay(E7), 0x0000080402010000u64, "wrong value for south-west ray at E7", debug)
  assertBitboard(lTable.getSouthWestRay(F7), 0x0000100804020100u64, "wrong value for south-west ray at F7", debug)
  assertBitboard(lTable.getSouthWestRay(G7), 0x0000201008040201u64, "wrong value for south-west ray at G7", debug)
  assertBitboard(lTable.getSouthWestRay(H7), 0x0000402010080402u64, "wrong value for south-west ray at H7", debug)
  assertBitboard(lTable.getSouthWestRay(A8), 0x0000000000000000u64, "wrong value for south-west ray at A8", debug)
  assertBitboard(lTable.getSouthWestRay(B8), 0x0001000000000000u64, "wrong value for south-west ray at B8", debug)
  assertBitboard(lTable.getSouthWestRay(C8), 0x0002010000000000u64, "wrong value for south-west ray at C8", debug)
  assertBitboard(lTable.getSouthWestRay(D8), 0x0004020100000000u64, "wrong value for south-west ray at D8", debug)
  assertBitboard(lTable.getSouthWestRay(E8), 0x0008040201000000u64, "wrong value for south-west ray at E8", debug)
  assertBitboard(lTable.getSouthWestRay(F8), 0x0010080402010000u64, "wrong value for south-west ray at F8", debug)
  assertBitboard(lTable.getSouthWestRay(G8), 0x0020100804020100u64, "wrong value for south-west ray at G8", debug)
  assertBitboard(lTable.getSouthWestRay(H8), 0x0040201008040201u64, "wrong value for south-west ray at H8", debug)

proc testKnightMove(debug: bool)=
  let friend = 0u64
  assertBitboard(lTable.getKnightMoves(A1, friend), 0x0000000000020400u64, "wrong move for knight at A1", debug)
  assertBitboard(lTable.getKnightMoves(B1, friend), 0x0000000000050800u64, "wrong move for knight at B1", debug)
  assertBitboard(lTable.getKnightMoves(C1, friend), 0x00000000000A1100u64, "wrong move for knight at C1", debug)
  assertBitboard(lTable.getKnightMoves(D1, friend), 0x0000000000142200u64, "wrong move for knight at D1", debug)
  assertBitboard(lTable.getKnightMoves(E1, friend), 0x0000000000284400u64, "wrong move for knight at E1", debug)
  assertBitboard(lTable.getKnightMoves(F1, friend), 0x0000000000508800u64, "wrong move for knight at F1", debug)
  assertBitboard(lTable.getKnightMoves(G1, friend), 0x0000000000A01000u64, "wrong move for knight at G1", debug)
  assertBitboard(lTable.getKnightMoves(H1, friend), 0x0000000000402000u64, "wrong move for knight at H1", debug)
  assertBitboard(lTable.getKnightMoves(A2, friend), 0x0000000002040004u64, "wrong move for knight at A2", debug)
  assertBitboard(lTable.getKnightMoves(B2, friend), 0x0000000005080008u64, "wrong move for knight at B2", debug)
  assertBitboard(lTable.getKnightMoves(C2, friend), 0x000000000A110011u64, "wrong move for knight at C2", debug)
  assertBitboard(lTable.getKnightMoves(D2, friend), 0x0000000014220022u64, "wrong move for knight at D2", debug)
  assertBitboard(lTable.getKnightMoves(E2, friend), 0x0000000028440044u64, "wrong move for knight at E2", debug)
  assertBitboard(lTable.getKnightMoves(F2, friend), 0x0000000050880088u64, "wrong move for knight at F2", debug)
  assertBitboard(lTable.getKnightMoves(G2, friend), 0x00000000A0100010u64, "wrong move for knight at G2", debug)
  assertBitboard(lTable.getKnightMoves(H2, friend), 0x0000000040200020u64, "wrong move for knight at H2", debug)
  assertBitboard(lTable.getKnightMoves(A3, friend), 0x0000000204000402u64, "wrong move for knight at A3", debug)
  assertBitboard(lTable.getKnightMoves(B3, friend), 0x0000000508000805u64, "wrong move for knight at B3", debug)
  assertBitboard(lTable.getKnightMoves(C3, friend), 0x0000000A1100110Au64, "wrong move for knight at C3", debug)
  assertBitboard(lTable.getKnightMoves(D3, friend), 0x0000001422002214u64, "wrong move for knight at D3", debug)
  assertBitboard(lTable.getKnightMoves(E3, friend), 0x0000002844004428u64, "wrong move for knight at E3", debug)
  assertBitboard(lTable.getKnightMoves(F3, friend), 0x0000005088008850u64, "wrong move for knight at F3", debug)
  assertBitboard(lTable.getKnightMoves(G3, friend), 0x000000A0100010A0u64, "wrong move for knight at G3", debug)
  assertBitboard(lTable.getKnightMoves(H3, friend), 0x0000004020002040u64, "wrong move for knight at H3", debug)
  assertBitboard(lTable.getKnightMoves(A4, friend), 0x0000020400040200u64, "wrong move for knight at A4", debug)
  assertBitboard(lTable.getKnightMoves(B4, friend), 0x0000050800080500u64, "wrong move for knight at B4", debug)
  assertBitboard(lTable.getKnightMoves(C4, friend), 0x00000A1100110A00u64, "wrong move for knight at C4", debug)
  assertBitboard(lTable.getKnightMoves(D4, friend), 0x0000142200221400u64, "wrong move for knight at D4", debug)
  assertBitboard(lTable.getKnightMoves(E4, friend), 0x0000284400442800u64, "wrong move for knight at E4", debug)
  assertBitboard(lTable.getKnightMoves(F4, friend), 0x0000508800885000u64, "wrong move for knight at F4", debug)
  assertBitboard(lTable.getKnightMoves(G4, friend), 0x0000A0100010A000u64, "wrong move for knight at G4", debug)
  assertBitboard(lTable.getKnightMoves(H4, friend), 0x0000402000204000u64, "wrong move for knight at H4", debug)
  assertBitboard(lTable.getKnightMoves(A5, friend), 0x0002040004020000u64, "wrong move for knight at A5", debug)
  assertBitboard(lTable.getKnightMoves(B5, friend), 0x0005080008050000u64, "wrong move for knight at B5", debug)
  assertBitboard(lTable.getKnightMoves(C5, friend), 0x000A1100110A0000u64, "wrong move for knight at C5", debug)
  assertBitboard(lTable.getKnightMoves(D5, friend), 0x0014220022140000u64, "wrong move for knight at D5", debug)
  assertBitboard(lTable.getKnightMoves(E5, friend), 0x0028440044280000u64, "wrong move for knight at E5", debug)
  assertBitboard(lTable.getKnightMoves(F5, friend), 0x0050880088500000u64, "wrong move for knight at F5", debug)
  assertBitboard(lTable.getKnightMoves(G5, friend), 0x00A0100010A00000u64, "wrong move for knight at G5", debug)
  assertBitboard(lTable.getKnightMoves(H5, friend), 0x0040200020400000u64, "wrong move for knight at H5", debug)
  assertBitboard(lTable.getKnightMoves(A6, friend), 0x0204000402000000u64, "wrong move for knight at A6", debug)
  assertBitboard(lTable.getKnightMoves(B6, friend), 0x0508000805000000u64, "wrong move for knight at B6", debug)
  assertBitboard(lTable.getKnightMoves(C6, friend), 0x0A1100110A000000u64, "wrong move for knight at C6", debug)
  assertBitboard(lTable.getKnightMoves(D6, friend), 0x1422002214000000u64, "wrong move for knight at D6", debug)
  assertBitboard(lTable.getKnightMoves(E6, friend), 0x2844004428000000u64, "wrong move for knight at E6", debug)
  assertBitboard(lTable.getKnightMoves(F6, friend), 0x5088008850000000u64, "wrong move for knight at F6", debug)
  assertBitboard(lTable.getKnightMoves(G6, friend), 0xA0100010A0000000u64, "wrong move for knight at G6", debug)
  assertBitboard(lTable.getKnightMoves(H6, friend), 0x4020002040000000u64, "wrong move for knight at H6", debug)
  assertBitboard(lTable.getKnightMoves(A7, friend), 0x0400040200000000u64, "wrong move for knight at A7", debug)
  assertBitboard(lTable.getKnightMoves(B7, friend), 0x0800080500000000u64, "wrong move for knight at B7", debug)
  assertBitboard(lTable.getKnightMoves(C7, friend), 0x1100110A00000000u64, "wrong move for knight at C7", debug)
  assertBitboard(lTable.getKnightMoves(D7, friend), 0x2200221400000000u64, "wrong move for knight at D7", debug)
  assertBitboard(lTable.getKnightMoves(E7, friend), 0x4400442800000000u64, "wrong move for knight at E7", debug)
  assertBitboard(lTable.getKnightMoves(F7, friend), 0x8800885000000000u64, "wrong move for knight at F7", debug)
  assertBitboard(lTable.getKnightMoves(G7, friend), 0x100010A000000000u64, "wrong move for knight at G7", debug)
  assertBitboard(lTable.getKnightMoves(H7, friend), 0x2000204000000000u64, "wrong move for knight at H7", debug)
  assertBitboard(lTable.getKnightMoves(A8, friend), 0x0004020000000000u64, "wrong move for knight at A8", debug)
  assertBitboard(lTable.getKnightMoves(B8, friend), 0x0008050000000000u64, "wrong move for knight at B8", debug)
  assertBitboard(lTable.getKnightMoves(C8, friend), 0x00110A0000000000u64, "wrong move for knight at C8", debug)
  assertBitboard(lTable.getKnightMoves(D8, friend), 0x0022140000000000u64, "wrong move for knight at D8", debug)
  assertBitboard(lTable.getKnightMoves(E8, friend), 0x0044280000000000u64, "wrong move for knight at E8", debug)
  assertBitboard(lTable.getKnightMoves(F8, friend), 0x0088500000000000u64, "wrong move for knight at F8", debug)
  assertBitboard(lTable.getKnightMoves(G8, friend), 0x0010A00000000000u64, "wrong move for knight at G8", debug)
  assertBitboard(lTable.getKnightMoves(H8, friend), 0x0020400000000000u64, "wrong move for knight at H8", debug)

proc testRookMove(debug: bool)=
  var
    friend: Bitboard
    enemy : Bitboard
    tmp   : Bitboard
    p     : Bitboard

  for position in A1..H8:
    for _ in 0..10:
      # the random Bitboards are `and`ed multiple times to make them scarce
      # the bitboard location of the target position is cleared off both bitboards
      p = not lTable.getPieceLookup(position)
      friend = bitand(randBitboard(), randBitboard(), randBitboard(),p)
      tmp    = bitand(randBitboard(), randBitboard(), p)
      enemy  = tmp and (tmp xor friend)
      assertBitboard(lTable.getRookMoves(position, friend, enemy),
                     rookAttack(position.cint, friend or enemy) and not friend,
                     "wrong move for rook at "&($position), debug)

proc testBishopMove(debug: bool)=
  var
    friend: Bitboard
    enemy : Bitboard
    tmp   : Bitboard
    p     : Bitboard

  for position in A1..H8:
    for _ in 0..10:
      # the random Bitboards are `and`ed multiple times to make them scarce
      # the bitboard location of the target position is cleared off both bitboards
      p = not lTable.getPieceLookup(position)
      friend = bitand(randBitboard(), randBitboard(), randBitboard(), p)
      tmp    = bitand(randBitboard(), randBitboard(), p)
      enemy  = tmp and (tmp xor friend)
      assertBitboard(lTable.getBishopMoves(position, friend, enemy),
                     bishopAttack(position.cint, friend or enemy) and not friend,
                     "wrong move for bishop at "&($position), debug)

proc testQueenMove(debug: bool)=
  var
    friend: Bitboard
    enemy : Bitboard
    tmp   : Bitboard
    p     : Bitboard

  for position in A1..H8:
    for _ in 0..10:
      # the random Bitboards are `and`ed multiple times to make them scarce
      # the bitboard location of the target position is cleared off both bitboards
      p = not lTable.getPieceLookup(position)
      friend = bitand(randBitboard(), randBitboard(), randBitboard(), p)
      tmp    = bitand(randBitboard(), randBitboard(),  p)
      enemy  = tmp and (tmp xor friend)
      assertBitboard(lTable.getQueenMoves(position, friend, enemy),
                     queenAttack(position.cint, friend or enemy) and not friend,
                     "wrong move for queen at "&($position), debug)


proc testKingMove(debug: bool)=
  let friend = 0u64
  assertBitboard(lTable.getKingMoves(A1, friend), 0x0000000000000302u64, "wrong move for king at A1", debug)
  assertBitboard(lTable.getKingMoves(B1, friend), 0x0000000000000705u64, "wrong move for king at B1", debug)
  assertBitboard(lTable.getKingMoves(C1, friend), 0x0000000000000E0Au64, "wrong move for king at C1", debug)
  assertBitboard(lTable.getKingMoves(D1, friend), 0x0000000000001C14u64, "wrong move for king at D1", debug)
  assertBitboard(lTable.getKingMoves(E1, friend), 0x0000000000003828u64, "wrong move for king at E1", debug)
  assertBitboard(lTable.getKingMoves(F1, friend), 0x0000000000007050u64, "wrong move for king at F1", debug)
  assertBitboard(lTable.getKingMoves(G1, friend), 0x000000000000E0A0u64, "wrong move for king at G1", debug)
  assertBitboard(lTable.getKingMoves(H1, friend), 0x000000000000C040u64, "wrong move for king at H1", debug)
  assertBitboard(lTable.getKingMoves(A2, friend), 0x0000000000030203u64, "wrong move for king at A2", debug)
  assertBitboard(lTable.getKingMoves(B2, friend), 0x0000000000070507u64, "wrong move for king at B2", debug)
  assertBitboard(lTable.getKingMoves(C2, friend), 0x00000000000E0A0Eu64, "wrong move for king at C2", debug)
  assertBitboard(lTable.getKingMoves(D2, friend), 0x00000000001C141Cu64, "wrong move for king at D2", debug)
  assertBitboard(lTable.getKingMoves(E2, friend), 0x0000000000382838u64, "wrong move for king at E2", debug)
  assertBitboard(lTable.getKingMoves(F2, friend), 0x0000000000705070u64, "wrong move for king at F2", debug)
  assertBitboard(lTable.getKingMoves(G2, friend), 0x0000000000E0A0E0u64, "wrong move for king at G2", debug)
  assertBitboard(lTable.getKingMoves(H2, friend), 0x0000000000C040C0u64, "wrong move for king at H2", debug)
  assertBitboard(lTable.getKingMoves(A3, friend), 0x0000000003020300u64, "wrong move for king at A3", debug)
  assertBitboard(lTable.getKingMoves(B3, friend), 0x0000000007050700u64, "wrong move for king at B3", debug)
  assertBitboard(lTable.getKingMoves(C3, friend), 0x000000000E0A0E00u64, "wrong move for king at C3", debug)
  assertBitboard(lTable.getKingMoves(D3, friend), 0x000000001C141C00u64, "wrong move for king at D3", debug)
  assertBitboard(lTable.getKingMoves(E3, friend), 0x0000000038283800u64, "wrong move for king at E3", debug)
  assertBitboard(lTable.getKingMoves(F3, friend), 0x0000000070507000u64, "wrong move for king at F3", debug)
  assertBitboard(lTable.getKingMoves(G3, friend), 0x00000000E0A0E000u64, "wrong move for king at G3", debug)
  assertBitboard(lTable.getKingMoves(H3, friend), 0x00000000C040C000u64, "wrong move for king at H3", debug)
  assertBitboard(lTable.getKingMoves(A4, friend), 0x0000000302030000u64, "wrong move for king at A4", debug)
  assertBitboard(lTable.getKingMoves(B4, friend), 0x0000000705070000u64, "wrong move for king at B4", debug)
  assertBitboard(lTable.getKingMoves(C4, friend), 0x0000000E0A0E0000u64, "wrong move for king at C4", debug)
  assertBitboard(lTable.getKingMoves(D4, friend), 0x0000001C141C0000u64, "wrong move for king at D4", debug)
  assertBitboard(lTable.getKingMoves(E4, friend), 0x0000003828380000u64, "wrong move for king at E4", debug)
  assertBitboard(lTable.getKingMoves(F4, friend), 0x0000007050700000u64, "wrong move for king at F4", debug)
  assertBitboard(lTable.getKingMoves(G4, friend), 0x000000E0A0E00000u64, "wrong move for king at G4", debug)
  assertBitboard(lTable.getKingMoves(H4, friend), 0x000000C040C00000u64, "wrong move for king at H4", debug)
  assertBitboard(lTable.getKingMoves(A5, friend), 0x0000030203000000u64, "wrong move for king at A5", debug)
  assertBitboard(lTable.getKingMoves(B5, friend), 0x0000070507000000u64, "wrong move for king at B5", debug)
  assertBitboard(lTable.getKingMoves(C5, friend), 0x00000E0A0E000000u64, "wrong move for king at C5", debug)
  assertBitboard(lTable.getKingMoves(D5, friend), 0x00001C141C000000u64, "wrong move for king at D5", debug)
  assertBitboard(lTable.getKingMoves(E5, friend), 0x0000382838000000u64, "wrong move for king at E5", debug)
  assertBitboard(lTable.getKingMoves(F5, friend), 0x0000705070000000u64, "wrong move for king at F5", debug)
  assertBitboard(lTable.getKingMoves(G5, friend), 0x0000E0A0E0000000u64, "wrong move for king at G5", debug)
  assertBitboard(lTable.getKingMoves(H5, friend), 0x0000C040C0000000u64, "wrong move for king at H5", debug)
  assertBitboard(lTable.getKingMoves(A6, friend), 0x0003020300000000u64, "wrong move for king at A6", debug)
  assertBitboard(lTable.getKingMoves(B6, friend), 0x0007050700000000u64, "wrong move for king at B6", debug)
  assertBitboard(lTable.getKingMoves(C6, friend), 0x000E0A0E00000000u64, "wrong move for king at C6", debug)
  assertBitboard(lTable.getKingMoves(D6, friend), 0x001C141C00000000u64, "wrong move for king at D6", debug)
  assertBitboard(lTable.getKingMoves(E6, friend), 0x0038283800000000u64, "wrong move for king at E6", debug)
  assertBitboard(lTable.getKingMoves(F6, friend), 0x0070507000000000u64, "wrong move for king at F6", debug)
  assertBitboard(lTable.getKingMoves(G6, friend), 0x00E0A0E000000000u64, "wrong move for king at G6", debug)
  assertBitboard(lTable.getKingMoves(H6, friend), 0x00C040C000000000u64, "wrong move for king at H6", debug)
  assertBitboard(lTable.getKingMoves(A7, friend), 0x0302030000000000u64, "wrong move for king at A7", debug)
  assertBitboard(lTable.getKingMoves(B7, friend), 0x0705070000000000u64, "wrong move for king at B7", debug)
  assertBitboard(lTable.getKingMoves(C7, friend), 0x0E0A0E0000000000u64, "wrong move for king at C7", debug)
  assertBitboard(lTable.getKingMoves(D7, friend), 0x1C141C0000000000u64, "wrong move for king at D7", debug)
  assertBitboard(lTable.getKingMoves(E7, friend), 0x3828380000000000u64, "wrong move for king at E7", debug)
  assertBitboard(lTable.getKingMoves(F7, friend), 0x7050700000000000u64, "wrong move for king at F7", debug)
  assertBitboard(lTable.getKingMoves(G7, friend), 0xE0A0E00000000000u64, "wrong move for king at G7", debug)
  assertBitboard(lTable.getKingMoves(H7, friend), 0xC040C00000000000u64, "wrong move for king at H7", debug)
  assertBitboard(lTable.getKingMoves(A8, friend), 0x0203000000000000u64, "wrong move for king at A8", debug)
  assertBitboard(lTable.getKingMoves(B8, friend), 0x0507000000000000u64, "wrong move for king at B8", debug)
  assertBitboard(lTable.getKingMoves(C8, friend), 0x0A0E000000000000u64, "wrong move for king at C8", debug)
  assertBitboard(lTable.getKingMoves(D8, friend), 0x141C000000000000u64, "wrong move for king at D8", debug)
  assertBitboard(lTable.getKingMoves(E8, friend), 0x2838000000000000u64, "wrong move for king at E8", debug)
  assertBitboard(lTable.getKingMoves(F8, friend), 0x5070000000000000u64, "wrong move for king at F8", debug)
  assertBitboard(lTable.getKingMoves(G8, friend), 0xA0E0000000000000u64, "wrong move for king at G8", debug)
  assertBitboard(lTable.getKingMoves(H8, friend), 0x40C0000000000000u64, "wrong move for king at H8", debug)

proc testFiles(debug: bool)=
  assertBitboard(lTable.mask_file[FILE_A],  0x0101010101010101u64, "wrong mask for file 1", debug)
  assertBitboard(lTable.mask_file[FILE_B],  0x0202020202020202u64, "wrong mask for file 2", debug)
  assertBitboard(lTable.mask_file[FILE_C],  0x0404040404040404u64, "wrong mask for file 3", debug)
  assertBitboard(lTable.mask_file[FILE_D],  0x0808080808080808u64, "wrong mask for file 4", debug)
  assertBitboard(lTable.mask_file[FILE_E],  0x1010101010101010u64, "wrong mask for file 5", debug)
  assertBitboard(lTable.mask_file[FILE_F],  0x2020202020202020u64, "wrong mask for file 6", debug)
  assertBitboard(lTable.mask_file[FILE_G],  0x4040404040404040u64, "wrong mask for file 7", debug)
  assertBitboard(lTable.mask_file[FILE_H],  0x8080808080808080u64, "wrong mask for file 8", debug)
  assertBitboard(lTable.clear_file[FILE_A], bitnot(lTable.mask_file[FILE_A]), "wrong clear for file 1", debug)
  assertBitboard(lTable.clear_file[FILE_B], bitnot(lTable.mask_file[FILE_B]), "wrong clear for file 2", debug)
  assertBitboard(lTable.clear_file[FILE_C], bitnot(lTable.mask_file[FILE_C]), "wrong clear for file 3", debug)
  assertBitboard(lTable.clear_file[FILE_D], bitnot(lTable.mask_file[FILE_D]), "wrong clear for file 4", debug)
  assertBitboard(lTable.clear_file[FILE_E], bitnot(lTable.mask_file[FILE_E]), "wrong clear for file 5", debug)
  assertBitboard(lTable.clear_file[FILE_F], bitnot(lTable.mask_file[FILE_F]), "wrong clear for file 6", debug)
  assertBitboard(lTable.clear_file[FILE_G], bitnot(lTable.mask_file[FILE_G]), "wrong clear for file 7", debug)
  assertBitboard(lTable.clear_file[FILE_H], bitnot(lTable.mask_file[FILE_H]), "wrong clear for file 8", debug)

proc testRank(debug: bool)=
  assertBitboard(lTable.mask_rank[RANK_1] ,  0x00000000000000FFu64,  "wrong mask for rank 1", debug)
  assertBitboard(lTable.mask_rank[RANK_2] ,  0x000000000000FF00u64,  "wrong mask for rank 2", debug)
  assertBitboard(lTable.mask_rank[RANK_3] ,  0x0000000000FF0000u64,  "wrong mask for rank 3", debug)
  assertBitboard(lTable.mask_rank[RANK_4] ,  0x00000000FF000000u64,  "wrong mask for rank 4", debug)
  assertBitboard(lTable.mask_rank[RANK_5] ,  0x000000FF00000000u64,  "wrong mask for rank 5", debug)
  assertBitboard(lTable.mask_rank[RANK_6] ,  0x0000FF0000000000u64,  "wrong mask for rank 6", debug)
  assertBitboard(lTable.mask_rank[RANK_7] ,  0x00FF000000000000u64,  "wrong mask for rank 7", debug)
  assertBitboard(lTable.mask_rank[RANK_8] ,  0xFF00000000000000u64,  "wrong mask for rank 8", debug)
  assertBitboard(lTable.clear_rank[RANK_1],  bitnot(lTable.mask_rank[RANK_1]), "wrong clear for rank 1", debug)
  assertBitboard(lTable.clear_rank[RANK_2],  bitnot(lTable.mask_rank[RANK_2]), "wrong clear for rank 2", debug)
  assertBitboard(lTable.clear_rank[RANK_3],  bitnot(lTable.mask_rank[RANK_3]), "wrong clear for rank 3", debug)
  assertBitboard(lTable.clear_rank[RANK_4],  bitnot(lTable.mask_rank[RANK_4]), "wrong clear for rank 4", debug)
  assertBitboard(lTable.clear_rank[RANK_5],  bitnot(lTable.mask_rank[RANK_5]), "wrong clear for rank 5", debug)
  assertBitboard(lTable.clear_rank[RANK_6],  bitnot(lTable.mask_rank[RANK_6]), "wrong clear for rank 6", debug)
  assertBitboard(lTable.clear_rank[RANK_7],  bitnot(lTable.mask_rank[RANK_7]), "wrong clear for rank 7", debug)
  assertBitboard(lTable.clear_rank[RANK_8],  bitnot(lTable.mask_rank[RANK_8]), "wrong clear for rank 8", debug)

proc testPieces(debug: bool)=
  for i in 0..63:
    assertBitboard(lTable.getPieceLookup(BoardPositionLookup[i]), Bitboard(1 shl i),
                  "wrong piece bitboard at index "&($i), debug)


proc TestLookups(debug: bool)=
  # base tests
  doTest "files",  testFiles(debug)
  doTest "ranks",  testRank(debug)
  doTest "pieces", testPieces(debug)
  # test rays
  doTest "north ray", testNorthRay(debug)
  doTest "south ray", testSouthRay(debug)
  doTest "east ray" , testEastRay(debug)
  doTest "west ray" , testWestRay(debug)
  doTest "north-east ray" , testNorthEastRay(debug)
  doTest "north-west ray" , testNorthWestRay(debug)
  doTest "south-east ray" , testSouthEastRay(debug)
  doTest "south-west ray" , testSouthWestRay(debug)
  # test movement
  doTest "king movement"  , testKingMove(debug)
  doTest "knight movement", testKnightMove(debug)
  doTest "rook movement"  , testRookMove(debug)
  doTest "bishop movement", testBishopMove(debug)
  doTest "queen movement" , testQueenMove(debug)
  #doTest "pawn lookup", testPawnMove() TODO

when isMainModule:
  let d = false
  TestLookups(d)
